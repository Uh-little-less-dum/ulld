{"version":3,"sources":["../../../src/internalPlugins/pluginSettings/navigation.ts"],"sourcesContent":["import { z } from \"zod\";\nimport { validIconNameList } from \"@ulld/utilities/validIconNameList\";\nimport type { InternalGlobalActionIds } from \"@ulld/types\";\n\nexport const actionLabelMap: Record<string, string> = {};\n\nexport const defaultQuickLinkLabel = \"Quick Links\";\n\nexport const defaultCopyrightText = `Â© Uh Little Less Dum ${new Date().getFullYear()} - All rights reserved, but do your thang`;\nexport const maxFooterSectionLinks = 5;\n\nexport const maxFooterSections = 3;\n\nexport const maxNavbarLinks = 5;\n\nexport const maxSidebarLinks = 6;\n\nconst urlField = z.string().refine((s) => {\n    return [\"https://\", \"http://\", \"www.\", \"/\", \"#\"].some((l) => s.startsWith(l));\n}, \"Must be a valid url.\");\n\nexport const navigationLinkSchema = z.object({\n    label: z.string().max(12),\n    href: urlField,\n});\n\nconst navigationFormUtilityFields = z.object({\n    footerSectionInput: z.string().default(\"\"),\n});\n\nexport const footerSectionSchema = z.object({\n    label: z.string().max(15),\n    items: navigationLinkSchema.array().max(maxFooterSectionLinks).default([]),\n});\n\nconst iconField = z.enum(validIconNameList);\n\nexport const quickLinkSchema = z.object({\n    icon: iconField,\n    url: z.string(),\n});\n\nexport const sidebarLinkSchema = z.object({\n    icon: iconField,\n    label: z.string(),\n    fieldType: z.literal(\"url\").or(z.literal(\"action\")).default(\"url\"),\n    value: z.string(),\n    position: z.union([z.literal(\"top\"), z.literal(\"bottom\")]).default(\"top\"),\n});\n\nexport const navbarLinkSchema = z.object({\n    label: z.string(),\n    fieldType: z.literal(\"url\").or(z.literal(\"action\")).default(\"url\"),\n    value: z.string(),\n});\n\nexport const navigationFormSettingSchema = z.object({\n    footerSections: footerSectionSchema\n        .array()\n        .max(maxFooterSections)\n        .default([]),\n    sidebarLinks: sidebarLinkSchema.array().default([]),\n    navbarLinks: navbarLinkSchema.array().max(maxNavbarLinks).default([]),\n    quickLinkLabel: z.string().default(defaultQuickLinkLabel),\n    copyrightText: z.string().default(defaultCopyrightText),\n    quickLinks: quickLinkSchema.array().default([]),\n});\n\nexport const navigationFormSchemaWithUtilities =\n    navigationFormSettingSchema.merge(navigationFormUtilityFields);\n\nexport type NavbarLink<T extends \"url\" | \"action\" = \"url\" | \"action\"> = {\n    label: string;\n    fieldType: T;\n} & (T extends \"url\"\n    ? {\n        fieldType: \"url\";\n        value: string;\n    }\n    : {\n        fieldType: \"action\";\n        value: InternalGlobalActionIds;\n    });\n\nexport type SidebarLink<T extends \"url\" | \"action\" = \"url\" | \"action\"> =\n    NavbarLink<T> & {\n        icon: (typeof validIconNameList)[number];\n        position: \"top\" | \"bottom\";\n    };\n\nexport type NavigationFormSettingSchema = Omit<\n    z.infer<typeof navigationFormSettingSchema>,\n    \"sidebarLinks\" | \"navbarLinks\"\n> & {\n    sidebarLinks: SidebarLink[];\n    navbarLinks: NavbarLink[];\n};\n\nexport type NavigationFormWithUtilityFields = NavigationFormSettingSchema &\n    z.infer<typeof navigationFormUtilityFields>;\n\nexport const defaultFormValues: NavigationFormWithUtilityFields = {\n    footerSections: [],\n    footerSectionInput: \"\",\n    sidebarLinks: [],\n    navbarLinks: [],\n    quickLinks: [],\n    quickLinkLabel: defaultQuickLinkLabel,\n    copyrightText: defaultCopyrightText,\n};\n"],"mappings":";AAAA,SAAS,SAAS;AAClB,SAAS,yBAAyB;AAG3B,IAAM,iBAAyC,CAAC;AAEhD,IAAM,wBAAwB;AAE9B,IAAM,uBAAuB,4BAAwB,oBAAI,KAAK,GAAE,YAAY,CAAC;AAC7E,IAAM,wBAAwB;AAE9B,IAAM,oBAAoB;AAE1B,IAAM,iBAAiB;AAEvB,IAAM,kBAAkB;AAE/B,IAAM,WAAW,EAAE,OAAO,EAAE,OAAO,CAAC,MAAM;AACtC,SAAO,CAAC,YAAY,WAAW,QAAQ,KAAK,GAAG,EAAE,KAAK,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;AAChF,GAAG,sBAAsB;AAElB,IAAM,uBAAuB,EAAE,OAAO;AAAA,EACzC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE;AAAA,EACxB,MAAM;AACV,CAAC;AAED,IAAM,8BAA8B,EAAE,OAAO;AAAA,EACzC,oBAAoB,EAAE,OAAO,EAAE,QAAQ,EAAE;AAC7C,CAAC;AAEM,IAAM,sBAAsB,EAAE,OAAO;AAAA,EACxC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE;AAAA,EACxB,OAAO,qBAAqB,MAAM,EAAE,IAAI,qBAAqB,EAAE,QAAQ,CAAC,CAAC;AAC7E,CAAC;AAED,IAAM,YAAY,EAAE,KAAK,iBAAiB;AAEnC,IAAM,kBAAkB,EAAE,OAAO;AAAA,EACpC,MAAM;AAAA,EACN,KAAK,EAAE,OAAO;AAClB,CAAC;AAEM,IAAM,oBAAoB,EAAE,OAAO;AAAA,EACtC,MAAM;AAAA,EACN,OAAO,EAAE,OAAO;AAAA,EAChB,WAAW,EAAE,QAAQ,KAAK,EAAE,GAAG,EAAE,QAAQ,QAAQ,CAAC,EAAE,QAAQ,KAAK;AAAA,EACjE,OAAO,EAAE,OAAO;AAAA,EAChB,UAAU,EAAE,MAAM,CAAC,EAAE,QAAQ,KAAK,GAAG,EAAE,QAAQ,QAAQ,CAAC,CAAC,EAAE,QAAQ,KAAK;AAC5E,CAAC;AAEM,IAAM,mBAAmB,EAAE,OAAO;AAAA,EACrC,OAAO,EAAE,OAAO;AAAA,EAChB,WAAW,EAAE,QAAQ,KAAK,EAAE,GAAG,EAAE,QAAQ,QAAQ,CAAC,EAAE,QAAQ,KAAK;AAAA,EACjE,OAAO,EAAE,OAAO;AACpB,CAAC;AAEM,IAAM,8BAA8B,EAAE,OAAO;AAAA,EAChD,gBAAgB,oBACX,MAAM,EACN,IAAI,iBAAiB,EACrB,QAAQ,CAAC,CAAC;AAAA,EACf,cAAc,kBAAkB,MAAM,EAAE,QAAQ,CAAC,CAAC;AAAA,EAClD,aAAa,iBAAiB,MAAM,EAAE,IAAI,cAAc,EAAE,QAAQ,CAAC,CAAC;AAAA,EACpE,gBAAgB,EAAE,OAAO,EAAE,QAAQ,qBAAqB;AAAA,EACxD,eAAe,EAAE,OAAO,EAAE,QAAQ,oBAAoB;AAAA,EACtD,YAAY,gBAAgB,MAAM,EAAE,QAAQ,CAAC,CAAC;AAClD,CAAC;AAEM,IAAM,oCACT,4BAA4B,MAAM,2BAA2B;AAgC1D,IAAM,oBAAqD;AAAA,EAC9D,gBAAgB,CAAC;AAAA,EACjB,oBAAoB;AAAA,EACpB,cAAc,CAAC;AAAA,EACf,aAAa,CAAC;AAAA,EACd,YAAY,CAAC;AAAA,EACb,gBAAgB;AAAA,EAChB,eAAe;AACnB;","names":[]}