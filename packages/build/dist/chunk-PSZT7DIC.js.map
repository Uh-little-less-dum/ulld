{"version":3,"sources":["../src/classes/pluginEvents.ts"],"sourcesContent":["import { DeveloperConfigInput, DeveloperConfigOutput } from \"@ulld/configschema/developer\";\nimport { TargetPaths } from \"./paths.js\";\nimport { EventMethodKey } from \"../types.js\";\nimport { ShellManager } from \"./baseClasses/shell.js\";\n\nexport class PluginEvents extends ShellManager {\n    hasEvents: boolean = false\n    importNames: NonNullable<DeveloperConfigInput[\"events\"]> = {\n        onSync: \"onSyncMethod_\",\n        onBuild: \"onBuildMethod_\",\n        onBackup: \"onBackupMethod_\",\n        onRestore: \"onRestoreMethod_\",\n    }\n    constructor(public data: DeveloperConfigOutput[\"events\"], public paths: TargetPaths, public pluginName: string){\n        super()\n        this.hasEvents = Object.keys(data).length > 0\n    }\n    applyIndex(index: number){\n        this.logDebug(`Applying index ${index} to ${this.pluginName} events`)\n        for (const k in this.importNames) {\n            this.importNames[k as EventMethodKey] = `${this.importNames[k as EventMethodKey]}${index}`\n        }\n    }\n    hasEventType(k: EventMethodKey){\n        return Boolean(k in this.data)\n    }\n    getEventImport(k: EventMethodKey){\n        return `import ${this.importNames[k]} from \"${this.pluginName}/${this.data[k as keyof typeof this.data]}\";`\n    }\n    getMethodAsString(k: EventMethodKey){\n        return `${this.importNames[k]}`\n    }\n    getOutputMethod(k: EventMethodKey){\n        return `{\n    func: ${this.importNames[k]},\n    pluginId: \"${this.pluginName}\"\n}`\n    }\n}\n"],"mappings":";;;;;;;;AAAA;AAKO,IAAM,eAAN,cAA2B,aAAa;AAAA,EAQ3C,YAAmB,MAA8C,OAA2B,YAAmB;AAC3G,UAAM;AADS;AAA8C;AAA2B;AAExF,SAAK,YAAY,OAAO,KAAK,IAAI,EAAE,SAAS;AAAA,EAChD;AAAA,EAVA,YAAqB;AAAA,EACrB,cAA2D;AAAA,IACvD,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,EACf;AAAA,EAKA,WAAW,OAAc;AACrB,SAAK,SAAS,kBAAkB,KAAK,OAAO,KAAK,UAAU,SAAS;AACpE,eAAW,KAAK,KAAK,aAAa;AAC9B,WAAK,YAAY,CAAmB,IAAI,GAAG,KAAK,YAAY,CAAmB,CAAC,GAAG,KAAK;AAAA,IAC5F;AAAA,EACJ;AAAA,EACA,aAAa,GAAkB;AAC3B,WAAO,QAAQ,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EACA,eAAe,GAAkB;AAC7B,WAAO,UAAU,KAAK,YAAY,CAAC,CAAC,UAAU,KAAK,UAAU,IAAI,KAAK,KAAK,CAA2B,CAAC;AAAA,EAC3G;AAAA,EACA,kBAAkB,GAAkB;AAChC,WAAO,GAAG,KAAK,YAAY,CAAC,CAAC;AAAA,EACjC;AAAA,EACA,gBAAgB,GAAkB;AAC9B,WAAO;AAAA,YACH,KAAK,YAAY,CAAC,CAAC;AAAA,iBACd,KAAK,UAAU;AAAA;AAAA,EAE5B;AACJ;","names":[]}