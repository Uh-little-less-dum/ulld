import s from 'dayjs';
import D from 'dayjs/plugin/advancedFormat';
import d from 'dayjs/plugin/timezone';
import c from 'dayjs/plugin/utc';
import h from 'dayjs/plugin/relativeTime';
import y from 'dayjs/plugin/duration';
import p from 'dayjs/plugin/customParseFormat';

s.extend(p);s.extend(y);s.extend(h);s.extend(c);s.extend(d);s.extend(D);var b=["24 hours","1 week","30 Days","60 Days","90 Days","6 Months","Previous Year","Year to Date","All Time"],f=class a{constructor(e,t){this.config=t;this.withoutSuffix=!1;this.flat=!1;this.timezone=t?.dateHandling.defaultTimeZone||this.getTimezone(),this.timezone&&s.tz.setDefault(this.timezone),this.dayjs=e instanceof Date?s(e):s(e).tz(this.timezone),this.t=this.dayjs.toDate();}getTimezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Chicago"}djs(e){return s.tz(e,this.timezone)}updateOnInterval(e,t,i){return setInterval(()=>{i(this.relativeTime(t));},e*1e3)}formatDate(e){let t=e?"MMM Do YYYY [at] h:mm a":"MMM Do YYYY";return this.dayjs.local().format(t)}now(e=!1){return e?new Date().valueOf():new Date}secondDifference(e=new Date){return this.dayjs.local().diff(e,"seconds")}diffAsDuration(e=new Date){return s.duration(this.secondDifference(e),"seconds")}formatTimeDiff(e,t=new Date){let i=e||this.diffAsDuration(t);return {years:i.years(),days:i.days(),asDays:i.asDays(),months:i.months(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds()}}getDiffBaseString(e){let t=e.days(),i=e.months(),r="";if(this.flat){let n=Math.floor(e.asDays());n>0&&(r+=`[${n} ${n===1?"day":"days"} ]`);}else i>0&&(r+=i===1?"M [month] ":"M [months] "),t>0&&(r+=t===1?"D [day] ":"D [days] ");return r}relativeTimeAnalog(){let e=this.diffAsDuration(),t=this.getDiffBaseString(e);return e.format(`${t} HH:mm:ss`)}relativeTimeDescriptive(){let e=this.diffAsDuration(),t=this.getDiffBaseString(e),i=this.formatTimeDiff(e);return i.hours&&(t+=i.hours===1?"H [hour] ":"H [hours] "),i.minutes&&(t+=i.minutes===1?"m [minute] ":"m [minutes] "),i.seconds&&(t+=i.seconds===1?"ss [second] ":"ss [seconds] "),e.format(t.trim())}relativeTimeSummarized(){return this.dayjs.local().fromNow(this.withoutSuffix)}replaceExtraNegatives(e){let t=e.indexOf("-"),i=e.lastIndexOf("-");return t<0||t===i?e:`${e.slice(0,t+1)}${e.slice(t,e.length).replaceAll("-","")}`}relativeTime(e){return e==="analog"?this.replaceExtraNegatives(this.relativeTimeAnalog()):e==="summarized"?this.replaceExtraNegatives(this.relativeTimeSummarized()):e==="descriptive"?this.replaceExtraNegatives(this.relativeTimeDescriptive()):""}startOfDay(){return s().startOf("day")}dayOfWeek(){return s().get("day")}static filterByDateRange(e,t,i,r){let n=[],o=(typeof i=="string"?new Date(i):i).valueOf(),u=(typeof r>"u"?new Date:typeof r=="string"?new Date(r):r).valueOf();for(let m of e){let l=t(m).valueOf();l>=o&&l<=u&&n.push(m);}return n}static formatDate(e,t,i){let r=i||(t?"MMM Do YYYY [at] h:mm a":"MMM Do YYYY");return s(e).format(r)}static formattedQuantityToString(e){let t="";return e.hours>0&&(t+=`${e.hours}:`),e.minutes>0&&(t+=`${e.minutes}:`),t+=`${e.seconds>0?e.seconds:"00"}`,t}static formattedQuantityToDescriptiveString(e){let t="";return e.hours>0&&(t+=`${e.hours} ${e.hours===1?"hour":"hours"} `),e.minutes>0&&(t+=`${e.minutes} ${e.minutes===1?"minute":"minutes"} `),e.seconds>0&&(t+=`${e.seconds} ${e.seconds===1?"second":"seconds"} `),t}static formatTimeQuantity(e){let t=Math.floor(e/3600),i=Math.floor((e-t*3600)/60),r=Math.floor(e-(t*3600+i*60));return {hours:t,minutes:i,seconds:r}}static getTimePeriod(e){let i={"24 hours":864e5,"1 week":6048e5,"30 Days":2592e6,"60 Days":5184e6,"90 Days":7776e6,"Previous Year":31536e6,"6 Months":15768e6,"Year to Date":n=>n.valueOf()-new Date(`1/1/${n.getFullYear()}`).valueOf(),"All Time":n=>n.valueOf()-new Date("1/1/1970").valueOf()}[e],r=new Date;return typeof i=="function"?new Date(r.valueOf()-i(r)):new Date(r.valueOf()-i)}static thirtyDaysAgo(){let e=2592e6;return new Date(new Date().valueOf()-e)}static consistentlyFormatDay(e){return `${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`}static groupByDay(e,t){let i={};for(let r of e){let n=t(r);if(n){let o=a.consistentlyFormatDay(n);o in i||(i[o]=[]),i[o].push(r);}}return i}static groupByHour(e,t){let i={};for(let r of e){let n=t(r);if(n){let u=s(n).format("HH");u in i||(i[u]=[]),i[u].push(r);}}return i}},$=(a,e="null")=>a instanceof Date?a:typeof a=="string"?new Date(a):e==="item"?a:e==="now"?new Date:e==="undefined"?void 0:null;

export { b as a, f as b, $ as c };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=chunk-Q2LEP3SC.mjs.map