{"version":3,"sources":["../../src/schemas/utility.ts"],"names":["dayjs","z","zodOptStr","zodOptNum","zodOptBool","defVal","a","zodCoerceToDate","optional","defaultReturn"],"mappings":"6BAAA,OAAOA,MAAW,QAClB,OAAS,KAAAC,MAAS,MAEX,IAAMC,EAAYD,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAC3CE,EAAYF,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAE3CG,EAAcC,GAAoBJ,EAAE,MAAM,CAACA,EAAE,QAAQ,EAAGA,EAAE,OAAO,CAAC,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQI,CAAM,EAAE,UAAUC,GAAK,OAAOA,GAAM,UAAYA,EAAIA,IAAM,MAAM,EAGnKC,EAAkB,CAACC,EAAoB,GAAOC,IACnDD,EACOP,EAAE,MAAM,CAACA,EAAE,OAAO,EAAE,SAAS,EAAGA,EAAE,OAAO,EAAGA,EAAE,KAAK,CAAC,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,UAAUK,GACtFN,EAAMM,CAAC,EAAE,QAAQ,EACV,IAAI,KAAKA,CAAW,EAExBG,CACV,EAEER,EAAE,MAAM,CAACA,EAAE,OAAO,EAAE,SAAS,EAAGA,EAAE,OAAO,EAAGA,EAAE,KAAK,CAAC,CAAC,EAAE,UAAUK,GAC7D,IAAI,KAAKA,CAAW,CAC9B","sourcesContent":["import dayjs from \"dayjs\"\nimport { z } from \"zod\"\n\nexport const zodOptStr = z.string().optional().nullable()\nexport const zodOptNum = z.number().optional().nullable()\n\nexport const zodOptBool = (defVal: boolean) => z.union([z.boolean(), z.string()]).optional().nullable().default(defVal).transform(a => typeof a === \"boolean\" ? a : a === \"true\")\n\n\nexport const zodCoerceToDate = (optional: boolean = false, defaultReturn?: any) => {\n    if (optional) {\n        return z.union([z.string().datetime(), z.number(), z.date()]).optional().nullable().transform(a => {\n            if (dayjs(a).isValid()) {\n                return new Date(a as string)\n            }\n            return defaultReturn\n        })\n    }\n    return z.union([z.string().datetime(), z.number(), z.date()]).transform(a => {\n        return new Date(a as string)\n    })\n}\n"]}