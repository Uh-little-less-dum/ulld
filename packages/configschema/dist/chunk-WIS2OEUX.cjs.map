{"version":3,"sources":["../src/evaluate/evaluations/noteTypes.ts"],"names":[],"mappings":";;;;;AAMA,IAAM,2BAA2B,CAAC,cAAmE;AACjG,QAAM,gBAAgB,mBAAuC,WAAW,CAAC,SAAS,KAAK,OAAiB;AACxG,MAAG,eAAc;AACb,WAAO;AAAA,MACH,OAAO;AAAA,MACP,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ;AAAA,IACZ;AAAA,EACJ;AACJ;AAGA,IAAM,cAAc;AAAA,EAChB;AACJ;AAEA,IAAM,oBAAoB,CAAC,QAA+B,YAAgD;AACtG,MAAI,SAAS;AACb,QAAM,YAAY,OAAO;AACzB,aAAW,KAAK,aAAY;AACvB,QAAI,WAAW,EAAE,SAAS;AAC3B,QAAG,UAAS;AACR,aAAO,KAAK,QAAQ;AAAA,IACxB;AAAA,EACJ;AACA,SAAO;AACX;AAEA,IAAO,oBAAQ","sourcesContent":["import { DocumentTypeConfig } from \"../../zod/documentConfigSchema.js\";\nimport { AppConfigSchemaOutput } from \"../../zod/main.js\";\nimport { ConfigEvaluationError, EvaluationErrors } from \"../types.js\";\nimport {arrayHasDuplicates} from \"../utils.js\"\n\n\nconst overlappingDocumentTypes = (noteTypes: DocumentTypeConfig[]): ConfigEvaluationError | void  => {\n    const hasDuplicates = arrayHasDuplicates<DocumentTypeConfig>(noteTypes, (item) => item.docType as string)\n    if(hasDuplicates){\n        return {\n            label: \"Duplicate DocumentTypes\",\n            desc: \"Each NoteType has a docType key. This key is used internally for navigation and filtering. You may be seeing this error because two or more of the automatically generated keys overlap. Please fix this by adjusting any overlapping keys so they remain unique.\",\n            severity: \"error\",\n            action: \"docTypesOverlap\"\n        }\n    }\n}\n\n\nconst evaluations = [\n    overlappingDocumentTypes\n]\n\nconst evaluateNoteTypes = (config: AppConfigSchemaOutput, _errors: EvaluationErrors): EvaluationErrors => {\n    let errors = _errors\n    const noteTypes = config.noteTypes as DocumentTypeConfig[]\n    for (const k of evaluations){\n         let newError = k(noteTypes)\n        if(newError){\n            errors.push(newError)\n        }\n    }\n    return errors\n}\n\nexport default evaluateNoteTypes\n"]}