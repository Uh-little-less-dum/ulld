{"version":3,"sources":["../src/zod/navigationConfig.ts"],"sourcesContent":["import { z } from \"zod\";\nimport {\n    ValidIconName,\n} from \"@ulld/icons/dynamic\";\nimport { DocumentTypeConfig } from \"./documentConfigSchema.js\";\nimport {ValidIconNameEnumDynamicallyGenerated} from \"@ulld/utilities/validIconNameEnum\"\n\n// PRIORITY: Parsing the user's app config needs to write the document types to the file first, and then reparse everything else afterwards so they are accessible. It's not ideal, but it can be reworked once the entire build process is in place.\n//\ntype V = {\n    icon: ValidIconName;\n    Icon?: never;\n};\n\ntype F = {\n    Icon: React.FC<{ className: string }>;\n    icon?: never;\n};\n\ntype B = {\n    href?: string;\n    onClick?: () => void;\n    label?: string;\n};\n\nexport type SidebarLink = (B & V) | (B & F);\n\nconst defaultResultLengths = {\n    categories: 12,\n    equations: 10,\n    snippets: 10,\n    searchAll: 12,\n};\n\nexport const iconNameField = z.nativeEnum(ValidIconNameEnumDynamicallyGenerated)\n\n// export const iconNameFieldHack = z.string().refine((s) => validIconNameList.includes(s as any))\n\nlet linkLocationSchema = z.union([\n    z.literal(\"sidebar\"),\n    z.literal(\"navbar\"),\n    z.literal(\"both\"),\n    z.literal(\"none\"),\n])\n\nexport const navigationConfigSchema = z\n    .object({\n        navbarBreakpoint: z\n            .object({\n                full: z\n                    .number()\n                    .default(1024)\n                    .describe(\n                        \"Pixel width at which the navbar will display all of it's contents.\",\n                    ),\n                minimal: z\n                    .number()\n                    .default(640)\n                    .describe(\n                        \"Pixel width at which the navbar will display a minimal bit of content to render properly on more narrow screens. All pixel widths below this value will render a navbar with only required content. With many layouts, this means that pixel widths below this value will render only a search bar.\",\n                    ),\n            })\n            .default({\n                full: 1024,\n                minimal: 640,\n            }),\n        maxResultLength: z\n            .object({\n                categories: z.number().default(defaultResultLengths.categories),\n                equations: z.number().default(defaultResultLengths.equations),\n                snippets: z.number().default(defaultResultLengths.snippets),\n                searchAll: z.number().default(defaultResultLengths.searchAll),\n            })\n            .describe(\n                \"The default length of search results to be retrieved for each search result type. Default values will likely work well for the default layout, but as more layouts become available this setting may be adjusted to fit different search result layouts.\",\n            )\n            .default(defaultResultLengths),\n        bookmarkLink: linkLocationSchema.optional().default(\"navbar\"),\n        syncLink: linkLocationSchema.optional().default(\"sidebar\"),\n        fileSystemToggle: linkLocationSchema.optional(),\n        darkmodeToggle: linkLocationSchema.optional().default(\"sidebar\"),\n        settings: linkLocationSchema.optional(),\n        equationsLink: linkLocationSchema.optional(),\n        snippetsLink: linkLocationSchema.optional().default(\"sidebar\"),\n        backupData: linkLocationSchema.optional(),\n        navbarLinks: z\n            .union([\n                z.string().describe(\"A document type id\"),\n                z.object({\n                    label: z.string(),\n                    icon: iconNameField.optional(),\n                    href: z.string().optional(),\n                    onClick: z.function().optional(),\n                }),\n            ])\n            .array()\n            .default([])\n            .describe(\n                \"Either the document type id or the internalLink id to be to included in the navbar.\",\n            ),\n        sidebarLinks: z\n            .union([\n                z.object({\n                    icon: iconNameField,\n                    href: z.string().optional(),\n                    label: z.string().optional(),\n                    Icon: z.function().optional(),\n                    onClick: z.function().optional(),\n                }),\n                z.string().describe(\"The id of the document type.\"),\n            ])\n            .array()\n            .default([])\n            .describe(\n                \"Either the document type id or the internalLink id to be to included in the navbar.\",\n            )\n    })\n    .default({});\n\n\nexport type InternalNavigationKeys = keyof Pick<z.output<typeof navigationConfigSchema>, \"bookmarkLink\" | \"syncLink\" | \"fileSystemToggle\" | \"darkmodeToggle\" | \"settings\" | \"equationsLink\" | \"snippetsLink\" | \"backupData\">\n"],"mappings":";AAAA,SAAS,SAAS;AAKlB,SAAQ,6CAA4C;AAsBpD,IAAM,uBAAuB;AAAA,EACzB,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,UAAU;AAAA,EACV,WAAW;AACf;AAEO,IAAM,gBAAgB,EAAE,WAAW,qCAAqC;AAI/E,IAAI,qBAAqB,EAAE,MAAM;AAAA,EAC7B,EAAE,QAAQ,SAAS;AAAA,EACnB,EAAE,QAAQ,QAAQ;AAAA,EAClB,EAAE,QAAQ,MAAM;AAAA,EAChB,EAAE,QAAQ,MAAM;AACpB,CAAC;AAEM,IAAM,yBAAyB,EACjC,OAAO;AAAA,EACJ,kBAAkB,EACb,OAAO;AAAA,IACJ,MAAM,EACD,OAAO,EACP,QAAQ,IAAI,EACZ;AAAA,MACG;AAAA,IACJ;AAAA,IACJ,SAAS,EACJ,OAAO,EACP,QAAQ,GAAG,EACX;AAAA,MACG;AAAA,IACJ;AAAA,EACR,CAAC,EACA,QAAQ;AAAA,IACL,MAAM;AAAA,IACN,SAAS;AAAA,EACb,CAAC;AAAA,EACL,iBAAiB,EACZ,OAAO;AAAA,IACJ,YAAY,EAAE,OAAO,EAAE,QAAQ,qBAAqB,UAAU;AAAA,IAC9D,WAAW,EAAE,OAAO,EAAE,QAAQ,qBAAqB,SAAS;AAAA,IAC5D,UAAU,EAAE,OAAO,EAAE,QAAQ,qBAAqB,QAAQ;AAAA,IAC1D,WAAW,EAAE,OAAO,EAAE,QAAQ,qBAAqB,SAAS;AAAA,EAChE,CAAC,EACA;AAAA,IACG;AAAA,EACJ,EACC,QAAQ,oBAAoB;AAAA,EACjC,cAAc,mBAAmB,SAAS,EAAE,QAAQ,QAAQ;AAAA,EAC5D,UAAU,mBAAmB,SAAS,EAAE,QAAQ,SAAS;AAAA,EACzD,kBAAkB,mBAAmB,SAAS;AAAA,EAC9C,gBAAgB,mBAAmB,SAAS,EAAE,QAAQ,SAAS;AAAA,EAC/D,UAAU,mBAAmB,SAAS;AAAA,EACtC,eAAe,mBAAmB,SAAS;AAAA,EAC3C,cAAc,mBAAmB,SAAS,EAAE,QAAQ,SAAS;AAAA,EAC7D,YAAY,mBAAmB,SAAS;AAAA,EACxC,aAAa,EACR,MAAM;AAAA,IACH,EAAE,OAAO,EAAE,SAAS,oBAAoB;AAAA,IACxC,EAAE,OAAO;AAAA,MACL,OAAO,EAAE,OAAO;AAAA,MAChB,MAAM,cAAc,SAAS;AAAA,MAC7B,MAAM,EAAE,OAAO,EAAE,SAAS;AAAA,MAC1B,SAAS,EAAE,SAAS,EAAE,SAAS;AAAA,IACnC,CAAC;AAAA,EACL,CAAC,EACA,MAAM,EACN,QAAQ,CAAC,CAAC,EACV;AAAA,IACG;AAAA,EACJ;AAAA,EACJ,cAAc,EACT,MAAM;AAAA,IACH,EAAE,OAAO;AAAA,MACL,MAAM;AAAA,MACN,MAAM,EAAE,OAAO,EAAE,SAAS;AAAA,MAC1B,OAAO,EAAE,OAAO,EAAE,SAAS;AAAA,MAC3B,MAAM,EAAE,SAAS,EAAE,SAAS;AAAA,MAC5B,SAAS,EAAE,SAAS,EAAE,SAAS;AAAA,IACnC,CAAC;AAAA,IACD,EAAE,OAAO,EAAE,SAAS,8BAA8B;AAAA,EACtD,CAAC,EACA,MAAM,EACN,QAAQ,CAAC,CAAC,EACV;AAAA,IACG;AAAA,EACJ;AACR,CAAC,EACA,QAAQ,CAAC,CAAC;","names":[]}