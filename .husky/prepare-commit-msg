COMMIT_MSG_FILE=$1

echo "Launching gum"

TYPE=$(gum choose "Fix" "Feat" "Docs" "Style" "Refactor" "Test" "Chore" "Revert" "WIP")
SCOPE=$(gum choose "Build" "Dev tools" "API" "Website" "Template App" "Config" "Package:Bib-Manager" "Package:Command Palette" "Package:Database" "Package:Editor" "Package:Embeddable Components" "Package:Equations" "Package:Form" "Package:Hooks" "Package:Configschema" "Package:Schemas" "Package:Types" "Package:UI" "Package:Utilities" "Package:Whiteboard" "Package:Snippets" "Package:Render" "Package:Plot" "Package:Pdf" "Package:Notebook" "Package:Parsers" "Package:Navigation" "Package:Math" "Package:Logger" "Package:Landing-Layouts" "Package:Kanban" "Package:Journal" "Package:Icons" "Package:FileSystemUtilities" "Package:Diagram" "Package:Cookbook" "Package:ComponentConfigs" "Package:Chat" "Package:Calendar")

test -n "$SCOPE" && SCOPE="($SCOPE)"

SUMMARY=$(gum input --value "$TYPE$SCOPE: " --placeholder "Summary of this change")
DESCRIPTION=$(gum write --placeholder "Details of this change")

gum confirm "Commit changes?" && echo "$SUMMARY\n\n$DESCRIPTION" > $COMMIT_MSG_FILE
